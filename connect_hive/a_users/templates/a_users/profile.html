{% extends 'layouts/blank.html' %}
{% load static %}
{% block content %}
<div class="min-h-screen bg-gray-200 flex flex-col items-center justify-center py-8">
    <!-- Card -->
    <div class="bg-gray-800 text-white rounded-xl shadow-lg p-6 max-w-lg w-full">
        <!-- Profile Image -->
        <div class="flex flex-col items-center">
            <img class="w-36 h-36 rounded-full object-cover mb-4 border-4 border-gray-700 shadow-md" 
                 src="{{ profile.avatar }}" 
                 alt="{{ profile.name }}" />
        </div>

        <!-- Profile Information -->
        <div class="text-center">
            <h1 class="text-3xl font-bold">{{ profile.name }}</h1>
            <div class="text-gray-400 mb-4">@{{ profile.user.username }}</div>

            <!-- Additional Information -->
            {% if profile.info %}
            <p class="text-gray-300 mt-6 hyphens-auto leading-relaxed">{{ profile.info|linebreaksbr }}</p>
            {% endif %}

            <!-- User Details -->
            <div class="text-gray-400 text-sm mt-6">
                <p>Email: <span class="text-gray-200">{{ profile.user.email }}</span></p>
                <p>Joined: <span class="text-gray-200">{{ profile.user.date_joined|date:"F j, Y" }}</span></p>
            </div>

            <!-- Chat Option -->
            {% if profile.user != user %}
            <div class="mt-6 relative group">
                <!-- Chat Icon -->
                <a href="{% url 'start-chat' profile.user.username %}">
                    <img src="{% static 'images/chat3.png' %}" 
                         class="w-12 h-12 hover:scale-110 transition-transform duration-300" 
                         alt="Chat Icon">
                </a>
            
                <!-- Hover Text -->
                <div class="absolute top-14 left-1 transform -translate-x-1/2 bg-black text-white text-sm py-1 px-3 rounded-md opacity-0 group-hover:opacity-100 transition-opacity duration-300">
                    Chat with {{ profile.user.username }}
                </div>
            </div>
            
            {% endif %}
        </div>
    </div>
</div>

<!-- Additional Styling -->
<style>
    body {
        background-color: #1A202C; /* Dark background color for the page */
    }

    .shadow-lg {
        box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2); /* Subtle shadow for the card */
    }

    .rounded-xl {
        border-radius: 12px; /* Smooth rounded corners for the card */
    }
    .hover-text {
        visibility: hidden;
        opacity: 0;
        position: absolute;
        bottom: -30px; /* Adjust based on icon size */
        left: 50%;
        transform: translateX(-50%);
        background-color: rgba(0, 0, 0, 0.8); /* Dark background */
        color: #fff; /* White text */
        padding: 5px 10px;
        border-radius: 4px;
        font-size: 0.875rem;
        white-space: nowrap;
        transition: opacity 0.3s ease, visibility 0.3s ease;
        z-index: 10;
    }
    .icon-container:hover .hover-text {
        visibility: visible;
        opacity: 1;
    }
</style>
{% endblock %}
